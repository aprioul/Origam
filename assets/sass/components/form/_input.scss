/**
  * Text field base styles
  */

.text-field{
  @include position(relative, null, null, null, null);
  padding-top: $base-space * 4;
  padding-bottom: $base-space;
}

.text-field--group {
  @include position(relative, null, null, null, null);
  padding-bottom: $base-space;

  &:before,
  &:after {
    content: '';
  }

  &:before {
    @include position(absolute, null, 0, $base-space - 1, 0);
    @include size(100%, 2px);
    border-bottom: 1px solid $black-4;
  }

  &:after {
    @include position(absolute, null, 0, $base-space - 2, 0);
    background-color: $primary-color-1;
    z-index: 2;
    @include size(0, 2px);
    @include transition-property(all);
    @include transition-duration(0.6s);
    @include transition-timing-function(ease-out);
  }
}

.text-field--active {
  .text-field--label {
    @include transform(translateY(0));
    @include font-size($font-size-small);
  }
}

.text-field--focused {
  &:not(.text-field--password),
  &:not(.text-field--select){
    .text-field--group:after {
      @include size(100%, 2px);
    }
  }

  .text-field--label {
    color: $primary-color-1;
    @include transform(translateY(0));
    @include font-size($font-size-small);
  }
}

.text-field--disabled {
  .text-field--group:before {
    border-bottom-style: dashed;
  }

  .text-field--group__input {
    color: $black-3;
    cursor: not-allowed;
  }
}

.text-field--fixed {
  padding-top: $base-space;

  .text-field--label {
    @include font-size($font-size-base);
    @include transform(none);
  }

  &.text-field--focused {
    .text-field--label {
      color: $black-3;
      @include opacity(0);
    }
  }

  &.text-field--active {
    .text-field--label {
      display: none;
    }
  }
}

.text-field--hidden {
  .text-field--label {
    display: none;
  }
}

// Text field label
.text-field--label {
  display: block;
  @include position(absolute, $base-space, null, null, 0);
  color: $black-3;
  line-height: 32px;
  pointer-events: none;
  @include opacity(1);
  @include transform(translateY($base-space * 3));
  @include transform-origin(bottom left);
  @include transition-property(all);
  @include transition-duration(0.4s);
  @include transition-timing-function(ease-out);
  .text-field--color & {
    @include position(absolute, initial, null, 30px, 0);
  }
}

// Text field input
.text-field--group__input {
  display: block;
  width: 100%;
  margin: 0;
  padding: 0;
  border: none;
  overflow: hidden;
  resize: none;
  font-weight: 400;
  cursor: text;
  background-color: transparent;
  @include appearance(none);
  box-shadow: none;

  &:focus {
    outline: none;
  }
}

input.text-field--group__input {
  height: 32px;
  line-height: 32px;
}

textarea.text-field--group__input {
  height: 24px;
  margin: 4px 0;
  overflow: hidden;
  resize: none;
  @include box-sizing(border-box);
}

input[type="range"].text-field--group__input {
  position: relative;
  overflow: visible;
  cursor: pointer;
  margin-bottom: 2em;
}
input[type="range"].text-field--group__input:after,
input[type="range"].text-field--group__input:before {
  position: absolute;
  top: 2em;
  color: #aaa;
}
input[type="range"].text-field--group__input:before {
  left:0em;
  content: attr(min);
}
input[type="range"].text-field--group__input:after {
  right: 0em;
  content: attr(max);
}

// Text field addons
.text-field--addons{
  &.left {
    padding-left: 68px;
    .text-field--label{
      @include position(absolute, null, null, null, 68px);
    }
    .text-field--progressbar{
      @include position(absolute, null, null, null, 68px);
    }
  }
  &.right{
    padding-right: 68px;
  }
}

.text-field--group__addons {
  @include position(absolute, 0, null, null, -55px);
  @include size(100%, 100%);
  max-width: 40px;
  max-height: 40px;
  line-height: 40px;
  @include font-size(24px);
  color: $black-2;
  text-align: center;
  @include transition-property(color);
  @include transition-duration(0.4s);
  @include transition-timing-function(ease-out);

  .text-field--group__input + &,
  .text-field.right &{
    @include position(absolute, null, -55px, null, initial);
  }

  .text-field--group__switchpass{
    color: $black-3;
    cursor: pointer;
  }

  .text-field--group__selectcountry{
    color: $black-3;
    cursor: pointer;
    @include position(relative,null,null,null,null);
    @include font-size($font-size-base);
    @include size(100%, 100%);
    &:before {
      @include position(absolute,50%,0,null,null);
      transform: translateY(-50%);
    }
  }

  &:hover {
    .text-field--group__switchpass,
    .text-field--group__selectcountry{
      color: $black-2;
    }
  }

  .text-field--focused & {
    color: $primary-color-1;
  }

  .text-field--error & {
    color: $color-warning;
  }

  .text-field--success & {
    color: $color-success;
  }
}

/**
  * Color
  */

.text-field--color{
  border: 1px solid $black-4;
  padding: $base-space;
  cursor: pointer;
  @include transition-property(border);
  @include transition-duration(0.6s);
  @include transition-timing-function(ease-out);
  &.text-field--active,
  &.text-field--focused{
    label{
      display: none;
    }
  }
  &.text-field--focused{
    border-color:$primary-color-1;
  }
  .text-field--group {
    padding: 0;
    padding-top: 4px;
    &:before,
    &:after {
      display: none;
    }
  }
  .text-field--group__input{
    cursor: pointer;
  }

  input{
    display: none;
  }

  input,
  div,
  output{
    &[type=color]{
      @include opacity(0);
    }
    &.text-field--group__input {
      height: 32px;
      line-height: 32px;
    }
  }
}

.text-field--color_current{
  @include size(calc( 100% + 60px ),100px);
  margin-left: -60px;
  background-color: $black-4;
}

/**
  * File
  */

.text-field--file{
  &.text-field--addons.left{
    padding-left: 118px;
    label {
      @include position(absolute, initial, null, 40px, 118px);
    }
  }
  .text-field--group {
    height: 90px;
  }
  .text-field--group__addons {
    max-width: 90px;
    max-height: 90px;
    left: -105px;
  }
  .text-field--file_current {
    border: 1px solid $black-4;
    font-size: 14px;
    @include size(100%, 100%);
    @include position(relative);
    padding: 5px;
    .text-field--file_current__close {
      @include position(absolute, 5px, 5px);
      line-height: initial;
      cursor: pointer;
    }
    .text-field--file_current__file {
      @include size(100%, 100%);
      background-color: $black-4;
    }
  }
  .text-field--group__input {
   @include position(absolute, null, null, 10px);
  }
}


/**
  * Password
  */

.text-field--progressbar {
  @include position(absolute, null, null, $base-space - 2, null);
  min-height: 1px;
  border-top: 2px solid;
  z-index: 3;
  @include transition-property(all);
  @include transition-duration(0.4s);
  @include transition-timing-function(ease-out);
  &.text-field--progressbar__danger{
    border-color: $color-error;
  }
  &.text-field--progressbar__success{
    border-color: $color-success;
  }
}

.text-field--error {
  .text-field--group:after {
    background-color: $color-error;
    @include transform(scale(1));
  }

  .text-field--label {
    color: $color-error;
  }
}

.text-field--success {
  .text-field--label {
    color: $color-success;
  }

  .text-field--group:after {
    background-color: $color-success;
    @include transform(scale(1));
  }
}

.text-field--warning {
  .text-field--label {
    color: $color-warning;
  }

  .text-field--group:after {
    background-color: $color-warning;
    @include transform(scale(1));
  }
}